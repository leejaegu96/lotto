<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° ğŸ°</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      margin-top: 80px;
    }

    h1 {
      font-size: 2.2em;
    }

    select, button {
      padding: 8px 14px;
      font-size: 1em;
      margin: 10px;
    }

    .numbers {
      margin-top: 20px;
    }

    .set {
      font-size: 1.2em;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<h1>ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° ğŸ°</h1>

<label for="countSelect">ëª‡ ê°œ ìƒì„±í• ê¹Œìš”?</label>
<select id="countSelect">
  <option value="1">1ê°œ</option>
  <option value="2">2ê°œ</option>
  <option value="3">3ê°œ</option>
  <option value="4">4ê°œ</option>
  <option value="5">5ê°œ</option>
</select>

<button id="generateBtn">ë¡œë˜ ë²ˆí˜¸ ìƒì„±</button>

<div id="numbers" class="numbers"></div>

<script>
  document.getElementById("generateBtn").addEventListener("click", () => {
    const count = parseInt(document.getElementById("countSelect").value);
    const container = document.getElementById("numbers");
    container.innerHTML = "";

    for (let i = 0; i < count; i++) {
      fetch("/api/lotto/random")
              .then(response => {
                if (!response.ok) throw new Error("ì„œë²„ ì˜¤ë¥˜");
                return response.json();
              })
              .then(data => {
                const div = document.createElement("div");
                div.className = "set";
                div.textContent = Array.isArray(data)
                        ? `ğŸ² ${data.join(" / ")}`
                        : `âš  ì˜¤ë¥˜: ${JSON.stringify(data)}`;
                container.appendChild(div);
              })
              .catch(err => {
                const div = document.createElement("div");
                div.className = "set";
                div.textContent = `âš  ìš”ì²­ ì‹¤íŒ¨: ${err.message}`;
                container.appendChild(div);
              });
    }
  });
</script>

</body>
</html>
